<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TERMINAL - Crypto Intelligence System</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --bg: #000000;
            --panel-bg: #0a0a0a;
            --border: #1a1a1a;
            --text: #ffffff;
            --text-dim: #666666;
            --accent-orange: #ff9500;
            --accent-green: #00ff00;
            --accent-red: #ff0000;
            --accent-blue: #00aaff;
        }
        
        body {
            font-family: 'Roboto Mono', monospace;
            background: var(--bg);
            color: var(--text);
            overflow: hidden;
        }
        
        /* Scanlines + Vignette */
        body::before {
            content: "";
            position: fixed;
            inset: 0;
            background: repeating-linear-gradient(
                to bottom,
                rgba(255,255,255,0.03),
                rgba(255,255,255,0.03) 1px,
                transparent 1px,
                transparent 3px
            );
            opacity: 0.10;
            pointer-events: none;
            mix-blend-mode: overlay;
            z-index: 9999;
            animation: scanlineMove 8s linear infinite;
        }
        
        @keyframes scanlineMove {
            0% { transform: translateY(0); }
            100% { transform: translateY(4px); }
        }
        
        body::after {
            content: "";
            position: fixed;
            inset: -30px;
            background: radial-gradient(circle at 50% 30%, transparent 40%, rgba(0,0,0,0.55) 75%);
            pointer-events: none;
            z-index: 9998;
        }
        
        /* Screen flash effect */
        @keyframes screenFlash {
            0%, 100% { opacity: 0; }
            50% { opacity: 0.15; }
        }
        
        .screen-flash {
            position: fixed;
            inset: 0;
            background: var(--accent-orange);
            opacity: 0;
            pointer-events: none;
            z-index: 9997;
        }
        
        .screen-flash.active {
            animation: screenFlash 0.3s ease-out;
        }
        
        /* Glitch effect for important text */
        @keyframes glitch {
            0% {
                text-shadow: 2px 0 var(--accent-orange), -2px 0 cyan;
            }
            25% {
                text-shadow: -2px 0 var(--accent-orange), 2px 0 cyan;
            }
            50% {
                text-shadow: 2px 0 cyan, -2px 0 var(--accent-orange);
            }
            75% {
                text-shadow: -2px 0 cyan, 2px 0 var(--accent-orange);
            }
            100% {
                text-shadow: 0 0 var(--accent-orange);
            }
        }
        
        .terminal-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--accent-orange);
            letter-spacing: 5px;
            animation: glitch 3s ease-in-out infinite;
        }
        
        /* Pulsing glow on panels */
        @keyframes panelPulse {
            0%, 100% {
                box-shadow: inset 0 0 20px rgba(255, 149, 0, 0.05);
            }
            50% {
                box-shadow: inset 0 0 30px rgba(255, 149, 0, 0.15);
            }
        }
        
        #terminal-container {
            animation: panelPulse 4s ease-in-out infinite;
        }
        
        /* Welcome Screen */
        #welcome-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            transition: opacity 0.5s ease;
        }
        
        #welcome-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        .welcome-logo {
            font-size: 4rem;
            font-weight: 700;
            color: var(--accent-orange);
            margin-bottom: 20px;
            letter-spacing: 10px;
        }
        
        .welcome-subtitle {
            font-size: 1.2rem;
            color: var(--text-dim);
            margin-bottom: 50px;
            letter-spacing: 3px;
        }
        
        .loading-bar {
            width: 400px;
            height: 4px;
            background: #1a1a1a;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }
        
        .loading-progress {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            background: var(--accent-orange);
            width: 0%;
            animation: loadProgress 2s ease-out forwards;
        }
        
        @keyframes loadProgress {
            to { width: 100%; }
        }
        
        .enter-btn {
            padding: 15px 50px;
            background: transparent;
            border: 2px solid var(--accent-orange);
            color: var(--accent-orange);
            font-family: inherit;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            letter-spacing: 3px;
            opacity: 0;
            animation: fadeInBtn 0.5s ease 2s forwards;
            transition: all 0.3s;
        }
        
        @keyframes fadeInBtn {
            to { opacity: 1; }
        }
        
        .enter-btn:hover {
            background: var(--accent-orange);
            color: #000;
        }
        
        /* Main Terminal */
        #terminal-container {
            display: grid;
            grid-template-columns: 320px 1fr 380px;
            grid-template-rows: 50px calc(100vh - 80px);
            height: 100vh;
            gap: 1px;
            background: var(--border);
        }
        
        /* Top Bar */
        #top-bar {
            grid-column: 1 / -1;
            background: var(--panel-bg);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            border-bottom: 1px solid var(--border);
        }
        
        .terminal-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--accent-orange);
            letter-spacing: 5px;
        }
        
        .top-controls {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .color-theme-btn {
            padding: 6px 15px;
            background: transparent;
            border: 1px solid var(--text-dim);
            color: var(--text);
            font-family: inherit;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .color-theme-btn:hover {
            border-color: var(--accent-orange);
            color: var(--accent-orange);
        }
        
        .status-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.75rem;
            color: var(--text-dim);
        }
        
        .status-dot {
            width: 8px;
            height: 8px;
            background: var(--accent-green);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* Left Panel - Command Terminal */
        #left-panel {
            background: var(--panel-bg);
            display: flex;
            flex-direction: column;
            border-right: 1px solid var(--border);
            overflow: hidden;
        }
        
        .panel-header {
            padding: 10px 15px;
            background: #0f0f0f;
            border-bottom: 1px solid var(--border);
            font-size: 0.75rem;
            font-weight: 700;
            color: var(--text-dim);
            letter-spacing: 2px;
            flex-shrink: 0;
        }
        
        #command-output {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
            font-size: 0.8rem;
            line-height: 1.6;
        }
        
        #command-output::-webkit-scrollbar {
            width: 6px;
        }
        
        #command-output::-webkit-scrollbar-thumb {
            background: #1a1a1a;
        }
        
        .cmd-line {
            margin-bottom: 5px;
        }
        
        .cmd-prompt {
            color: var(--accent-orange);
        }
        
        .cmd-text {
            color: var(--text-dim);
        }
        
        .cmd-success {
            color: var(--accent-green);
            text-shadow: 0 0 10px var(--accent-green);
            font-weight: 700;
        }
        
        .cmd-error {
            color: var(--accent-red);
            text-shadow: 0 0 10px var(--accent-red);
        }
        
        .cmd-line.event {
            animation: slideIn 0.5s ease, glow 2s ease-in-out infinite;
        }
        
        @keyframes glow {
            0%, 100% {
                text-shadow: 0 0 5px var(--accent-orange);
            }
            50% {
                text-shadow: 0 0 15px var(--accent-orange);
            }
        }
        
        #command-input-area {
            padding: 12px 15px;
            background: #0f0f0f;
            border-top: 1px solid var(--border);
            display: flex;
            gap: 8px;
            flex-shrink: 0;
        }
        
        #command-input {
            flex: 1;
            background: transparent;
            border: 1px solid var(--border);
            padding: 8px;
            color: var(--text);
            font-family: inherit;
            font-size: 0.8rem;
        }
        
        #command-input:focus {
            outline: none;
            border-color: var(--accent-orange);
        }
        
        /* Center Panel - Bot + Neural Network */
        #center-panel {
            background: var(--panel-bg);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        /* Bot Character Area */
        #bot-character-area {
            height: 280px;
            background: 
                radial-gradient(240px 240px at 50% 40%, rgba(255, 149, 0, 0.12), transparent 60%),
                radial-gradient(320px 320px at 40% 60%, rgba(255, 149, 0, 0.08), transparent 60%),
                var(--panel-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            border-bottom: 1px solid var(--border);
            flex-shrink: 0;
        }
        
        .platform {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 180px;
            height: 16px;
            border-radius: 999px;
            background: radial-gradient(90px 25px at 50% 30%, rgba(255, 149, 0, 0.15), transparent 60%),
                        linear-gradient(90deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.02));
            border: 1px solid rgba(255, 149, 0, 0.2);
            opacity: 0.8;
        }
        
        .bot-3d {
            position: relative;
            width: 200px;
            height: 250px;
            transform-origin: 50% 85%;
            animation: idleBob 2.8s ease-in-out infinite;
        }
        
        @keyframes idleBob {
            0%, 100% { transform: translateY(0px) rotate(-0.6deg); }
            50% { transform: translateY(-8px) rotate(0.8deg); }
        }
        
        .bot-move {
            width: 100%;
            height: 100%;
            transition: transform 0.12s ease;
        }
        
        .bot-tilt {
            width: 100%;
            height: 100%;
            transition: transform 0.12s ease;
        }
        
        .bot-glow {
            position: absolute;
            inset: -30px;
            background: radial-gradient(150px 150px at 50% 40%, rgba(255, 149, 0, 0.18), transparent 60%),
                        radial-gradient(180px 180px at 40% 70%, rgba(255, 149, 0, 0.12), transparent 62%);
            filter: blur(15px);
            opacity: 0.7;
            pointer-events: none;
        }
        
        .bot-head {
            position: absolute;
            top: 15px;
            left: 50%;
            transform: translateX(-50%);
            width: 160px;
            height: 120px;
            border-radius: 50px;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.03));
            border: 1px solid rgba(255, 255, 255, 0.12);
            backdrop-filter: blur(4px);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.3);
        }
        
        .bot-antenna {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 7px;
            height: 22px;
            border-radius: 999px;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.18), rgba(255, 255, 255, 0.04));
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .bot-antenna::after {
            content: "";
            position: absolute;
            top: -9px;
            left: 50%;
            transform: translateX(-50%);
            width: 12px;
            height: 12px;
            border-radius: 999px;
            background: radial-gradient(circle at 35% 35%, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.1)),
                        radial-gradient(circle at 50% 50%, var(--accent-orange), rgba(255, 149, 0, 0.1));
            box-shadow: 0 0 15px var(--accent-orange);
            animation: ping 2s ease-in-out infinite;
        }
        
        @keyframes ping {
            0%, 100% { transform: translateX(-50%) scale(1); opacity: 0.95; }
            50% { transform: translateX(-50%) scale(1.1); opacity: 0.7; }
        }
        
        .bot-visor {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 130px;
            height: 75px;
            border-radius: 38px;
            background: radial-gradient(90px 60px at 50% 20%, rgba(255, 149, 0, 0.12), transparent 65%),
                        linear-gradient(180deg, rgba(10, 10, 10, 0.9), rgba(10, 10, 10, 0.7));
            border: 1px solid rgba(255, 255, 255, 0.1);
            overflow: hidden;
            box-shadow: inset 0 2px 12px rgba(255, 149, 0, 0.2);
            animation: visorGlow 2s ease-in-out infinite;
        }
        
        @keyframes visorGlow {
            0%, 100% { box-shadow: inset 0 2px 12px rgba(255, 149, 0, 0.2), 0 0 20px rgba(255, 149, 0, 0.2); }
            50% { box-shadow: inset 0 2px 12px rgba(255, 149, 0, 0.4), 0 0 30px rgba(255, 149, 0, 0.4); }
        }
        
        .bot-3d.talking .bot-visor {
            animation: visorTalk 0.18s ease-in-out infinite;
        }
        
        @keyframes visorTalk {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.15); }
        }
        
        .bot-eye {
            position: absolute;
            top: 26px;
            width: 26px;
            height: 28px;
            border-radius: 16px;
            background: radial-gradient(13px 13px at 35% 35%, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.08)),
                        radial-gradient(20px 20px at 50% 60%, var(--accent-orange), rgba(255, 149, 0, 0.15));
            box-shadow: 0 0 15px rgba(255, 149, 0, 0.3);
            transition: transform 0.12s ease;
        }
        
        .bot-eye.left { left: 32px; }
        .bot-eye.right { right: 32px; }
        
        .eye-pupil {
            position: absolute;
            width: 9px;
            height: 9px;
            background: #000;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            transition: transform 0.2s;
        }
        
        .bot-mouth {
            position: absolute;
            left: 50%;
            top: 58px;
            transform: translateX(-50%);
            width: 42px;
            height: 12px;
            border-radius: 0 0 12px 12px;
            border: 2px solid rgba(255, 149, 0, 0.5);
            border-top: 0;
            opacity: 0.85;
            filter: drop-shadow(0 0 8px rgba(255, 149, 0, 0.2));
            transition: height 90ms ease, width 90ms ease;
        }
        
        .bot-3d.talking .bot-mouth {
            height: 24px;
            width: 38px;
            border-radius: 0 0 16px 16px;
        }
        
        .bot-body {
            position: absolute;
            top: 128px;
            left: 50%;
            transform: translateX(-50%);
            width: 140px;
            height: 110px;
            border-radius: 30px;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.03));
            border: 1px solid rgba(255, 255, 255, 0.12);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.25);
        }
        
        .bot-core {
            position: absolute;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            width: 46px;
            height: 46px;
            border-radius: 999px;
            background: radial-gradient(circle at 35% 35%, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.1)),
                        radial-gradient(circle at 50% 65%, var(--accent-orange), rgba(255, 149, 0, 0.12));
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 20px rgba(255, 149, 0, 0.3);
            animation: corePulse 2.4s ease-in-out infinite;
        }
        
        @keyframes corePulse {
            0%, 100% { transform: translateX(-50%) scale(1); opacity: 0.95; }
            50% { transform: translateX(-50%) scale(1.06); opacity: 0.8; }
        }
        
        .bot-status {
            position: absolute;
            bottom: 12px;
            left: 50%;
            transform: translateX(-50%);
            padding: 6px 12px;
            background: rgba(255, 149, 0, 0.15);
            backdrop-filter: blur(8px);
            border: 1px solid var(--accent-orange);
            border-radius: 10px;
            font-size: 0.65rem;
            font-weight: 700;
            letter-spacing: 2px;
            box-shadow: 0 4px 12px rgba(255, 149, 0, 0.2);
        }
        
        /* Neural Network Area */
        #neural-network-area {
            flex: 1;
            position: relative;
            overflow: hidden;
        }
        
        .neural-node {
            position: absolute;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 2px solid var(--accent-orange);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.6rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            background: rgba(255, 149, 0, 0.1);
            box-shadow: 0 0 15px rgba(255, 149, 0, 0.3);
            text-align: center;
            line-height: 1.1;
        }
        
        .neural-node:hover {
            transform: scale(1.2);
            z-index: 100;
            box-shadow: 0 0 30px var(--accent-orange);
        }
        
        .neural-node.active {
            animation: nodePulse 2s ease-in-out infinite;
        }
        
        @keyframes nodePulse {
            0%, 100% { 
                box-shadow: 0 0 15px rgba(255, 149, 0, 0.3);
            }
            50% { 
                box-shadow: 0 0 30px var(--accent-orange);
                border-width: 3px;
            }
        }
        
        .synapse {
            position: absolute;
            height: 2px;
            background: var(--accent-orange);
            transform-origin: left center;
            opacity: 0.3;
            box-shadow: 0 0 5px var(--accent-orange);
        }
        
        .synapse.firing {
            animation: synapseFire 1.5s ease-in-out infinite;
        }
        
        @keyframes synapseFire {
            0%, 100% { 
                opacity: 0.3;
            }
            50% { 
                opacity: 1;
                height: 3px;
            }
        }
        
        .neural-stats {
            position: absolute;
            bottom: 10px;
            left: 10px;
            right: 10px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
        }
        
        .neural-stat {
            padding: 8px 10px;
            background: rgba(255, 149, 0, 0.1);
            border: 1px solid rgba(255, 149, 0, 0.3);
            font-size: 0.65rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .stat-value {
            color: var(--accent-orange);
            font-size: 0.85rem;
            display: block;
            margin-top: 3px;
        }
        
        .neural-label {
            position: absolute;
            top: 15px;
            left: 50%;
            transform: translateX(-50%);
            padding: 6px 15px;
            background: rgba(255, 149, 0, 0.2);
            border: 1px solid var(--accent-orange);
            font-size: 0.7rem;
            font-weight: 700;
            letter-spacing: 2px;
        }
        
        /* Right Panel - Bot Chat & Controls */
        #right-panel {
            background: var(--panel-bg);
            display: flex;
            flex-direction: column;
            border-left: 1px solid var(--border);
            overflow: hidden;
        }
        
        #bot-chat {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        #bot-chat::-webkit-scrollbar {
            width: 6px;
        }
        
        #bot-chat::-webkit-scrollbar-thumb {
            background: #1a1a1a;
        }
        
        .bot-message {
            padding: 10px 12px;
            background: #0f0f0f;
            border-left: 3px solid var(--accent-orange);
            font-size: 0.85rem;
            line-height: 1.6;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .user-message {
            padding: 10px 12px;
            background: #1a1a1a;
            border-left: 3px solid var(--accent-green);
            font-size: 0.85rem;
            line-height: 1.6;
            align-self: flex-end;
            max-width: 80%;
        }
        
        .message-actions {
            display: flex;
            gap: 8px;
            margin-top: 8px;
            flex-wrap: wrap;
        }
        
        .action-btn {
            padding: 5px 12px;
            background: transparent;
            border: 1px solid var(--text-dim);
            color: var(--text-dim);
            font-family: inherit;
            font-size: 0.7rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .action-btn:hover {
            border-color: var(--accent-orange);
            color: var(--accent-orange);
        }
        
        #bot-input-area {
            padding: 15px;
            background: #0f0f0f;
            border-top: 1px solid var(--border);
            flex-shrink: 0;
        }
        
        #bot-input {
            width: 100%;
            background: transparent;
            border: 1px solid var(--border);
            padding: 10px;
            color: var(--text);
            font-family: inherit;
            font-size: 0.85rem;
            margin-bottom: 10px;
        }
        
        #bot-input:focus {
            outline: none;
            border-color: var(--accent-orange);
        }
        
        #bot-send {
            width: 100%;
            padding: 10px;
            background: var(--accent-orange);
            border: none;
            color: #000;
            font-family: inherit;
            font-size: 0.85rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        #bot-send:hover {
            background: #ffaa33;
        }
        
        /* Interactive Controls */
        .control-panel {
            padding: 12px 15px;
            background: #0f0f0f;
            border-top: 1px solid var(--border);
            flex-shrink: 0;
        }
        
        .control-group {
            margin-bottom: 10px;
        }
        
        .control-label {
            font-size: 0.65rem;
            color: var(--text-dim);
            margin-bottom: 6px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .color-picker-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 6px;
        }
        
        .color-option {
            width: 100%;
            height: 24px;
            border: 1px solid var(--border);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .color-option:hover {
            transform: scale(1.1);
            border-color: var(--text);
        }
        
        .color-option.active {
            border: 2px solid var(--text);
        }
        
        /* Data Feed */
        .data-feed {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 8px 15px;
            background: #0f0f0f;
            border-top: 1px solid var(--border);
            font-size: 0.7rem;
            display: flex;
            justify-content: space-between;
            z-index: 9997;
        }
        
        .feed-item {
            display: flex;
            gap: 5px;
        }
        
        .feed-label {
            color: var(--text-dim);
        }
        
        .feed-value {
            color: var(--accent-green);
            font-weight: 700;
        }
    </style>
</head>
<body>
    <!-- Welcome Screen -->
    <div id="welcome-screen">
        <div class="welcome-logo">TERMINAL</div>
        <div class="welcome-subtitle">CRYPTO INTELLIGENCE SYSTEM</div>
        <div class="loading-bar">
            <div class="loading-progress"></div>
        </div>
        <button class="enter-btn" onclick="enterTerminal()">ENTER TERMINAL</button>
    </div>

    <!-- Main Terminal -->
    <div id="terminal-container" style="opacity: 0;">
        <!-- Screen flash effect -->
        <div class="screen-flash" id="screen-flash"></div>
        
        <!-- Top Bar -->
        <div id="top-bar">
            <div class="terminal-title">TERMINAL</div>
            <div class="top-controls">
                <button class="color-theme-btn" onclick="changeTheme('orange')">ORANGE</button>
                <button class="color-theme-btn" onclick="changeTheme('green')">GREEN</button>
                <button class="color-theme-btn" onclick="changeTheme('blue')">BLUE</button>
                <button class="color-theme-btn" onclick="changeTheme('purple')">PURPLE</button>
                <div class="status-indicator">
                    <div class="status-dot"></div>
                    <span>LIVE</span>
                </div>
            </div>
        </div>

        <!-- Left Panel - Command Terminal -->
        <div id="left-panel">
            <div class="panel-header">COMMAND TERMINAL</div>
            <div id="command-output"></div>
            <div id="command-input-area">
                <input type="text" id="command-input" placeholder="Enter command...">
            </div>
        </div>

        <!-- Center Panel - Bot + Neural Network -->
        <div id="center-panel">
            <div id="bot-character-area">
                <div class="platform"></div>
                <div class="bot-3d" id="bot-character">
                    <div class="bot-move" id="bot-move">
                        <div class="bot-tilt" id="bot-tilt">
                            <div class="bot-glow"></div>
                            <div class="bot-head">
                                <div class="bot-antenna"></div>
                                <div class="bot-visor" id="bot-visor">
                                    <div class="bot-eye left">
                                        <div class="eye-pupil" id="eye-left"></div>
                                    </div>
                                    <div class="bot-eye right">
                                        <div class="eye-pupil" id="eye-right"></div>
                                    </div>
                                    <div class="bot-mouth" id="bot-mouth"></div>
                                </div>
                            </div>
                            <div class="bot-body">
                                <div class="bot-core"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bot-status" id="bot-status">ONLINE</div>
            </div>
            <div id="neural-network-area"></div>
        </div>

        <!-- Right Panel - Bot Chat -->
        <div id="right-panel">
            <div class="panel-header">BOT INTERFACE</div>
            <div id="bot-chat"></div>
            <div class="control-panel">
                <div class="control-group">
                    <div class="control-label">Accent Color</div>
                    <div class="color-picker-grid">
                        <div class="color-option active" style="background: #ff9500" onclick="changeAccent('#ff9500', '#ffaa33', this)"></div>
                        <div class="color-option" style="background: #00ff00" onclick="changeAccent('#00ff00', '#33ff33', this)"></div>
                        <div class="color-option" style="background: #00aaff" onclick="changeAccent('#00aaff', '#33bbff', this)"></div>
                        <div class="color-option" style="background: #ff00ff" onclick="changeAccent('#ff00ff', '#ff33ff', this)"></div>
                        <div class="color-option" style="background: #ff0000" onclick="changeAccent('#ff0000', '#ff3333', this)"></div>
                        <div class="color-option" style="background: #ffff00" onclick="changeAccent('#ffff00', '#ffff33', this)"></div>
                        <div class="color-option" style="background: #00ffff" onclick="changeAccent('#00ffff', '#33ffff', this)"></div>
                        <div class="color-option" style="background: #ffffff" onclick="changeAccent('#ffffff', '#ffffff', this)"></div>
                    </div>
                </div>
            </div>
            <div id="bot-input-area">
                <input type="text" id="bot-input" placeholder="Ask the bot anything...">
                <button id="bot-send">SEND</button>
            </div>
        </div>
    </div>

    <!-- Data Feed -->
    <div class="data-feed" style="opacity: 0;" id="data-feed">
        <div class="feed-item">
            <span class="feed-label">BTC:</span>
            <span class="feed-value">$95,284</span>
        </div>
        <div class="feed-item">
            <span class="feed-label">ETH:</span>
            <span class="feed-value">$3,421</span>
        </div>
        <div class="feed-item">
            <span class="feed-label">SOL:</span>
            <span class="feed-value">$147</span>
        </div>
        <div class="feed-item">
            <span class="feed-label">TOTAL MCAP:</span>
            <span class="feed-value">$3.2T</span>
        </div>
        <div class="feed-item">
            <span class="feed-label">24H VOL:</span>
            <span class="feed-value">$127B</span>
        </div>
    </div>

    <script>
        // SUPER MEMORY SYSTEM - Bot that knows everything
        const botMemory = {
            // A) Working memory (current conversation)
            conversations: [],
            
            // B) Episodic memory (timestamped events)
            episodes: [],
            
            // C) Semantic memory (facts about user)
            facts: {
                preferences: [],
                style: 'bullish',
                interests: []
            },
            
            // D) Knowledge base (meme coin briefing)
            knowledgeBase: {
                'bullcase': {
                    title: 'MEME COINS IN 2026: WHY THIS META KEEPS PRINTING',
                    content: 'Meme coins are not "random." They\'re the cleanest expression of what crypto actually trades: attention, liquidity, and reflexivity. The upside is unmatched because the market can reprice attention instantly.',
                    tags: ['meta', 'bullish', 'fundamentals']
                },
                'whatare': {
                    title: 'What Meme Coins Really Are',
                    content: 'Meme coins are speculative assets whose primary value driver is SOCIAL MOMENTUM. Not cash flow. Not fundamentals. It\'s narrative, attention, liquidity, and timing. That\'s why the upside is unmatched.',
                    tags: ['definition', 'basics']
                },
                'whywin': {
                    title: 'Why Meme Coins Keep Winning',
                    content: 'They monetize culture in real-time. They move capital faster than anything else. They reward discipline and execution. The best traders aren\'t lucky - they read liquidity, scale out, avoid nukes, repeat edges.',
                    tags: ['strategy', 'bullish']
                },
                'solana': {
                    title: 'Why Solana Is the Main Arena',
                    content: 'Solana dominates because: low fees, fast execution, fast launches, fast rotations. This creates the perfect environment for explosive runs because friction is gone.',
                    tags: ['solana', 'technical']
                },
                'mcap': {
                    title: 'Market Cap Dynamics',
                    content: 'Market cap isn\'t "money in" but it IS the scoreboard. Small inflows can create huge reprices. Early meme coins move violently because liquidity is thin. That\'s BULLISH - you don\'t need billions to start moving.',
                    tags: ['liquidity', 'mcap']
                },
                'liquidity': {
                    title: 'Liquidity Is King',
                    content: 'The strongest setups have: LP meaningful to MC, improving holder distribution, consistent volume. If liquidity grows WITH price, you get: less slippage, more confidence, bigger second and third legs.',
                    tags: ['liquidity', 'strategy']
                },
                'volume': {
                    title: 'Volume vs Market Cap Signal',
                    content: 'When volume is a serious % of market cap: real attention, real rotation, real participation. That\'s when charts stop being "hope" and start being MARKET STRUCTURE.',
                    tags: ['volume', 'signals']
                },
                'pumpfun': {
                    title: 'Pump.fun Lifecycle',
                    content: 'Most coins die. That\'s fine. The survivors run HARD because competition is massive, attention selects winners quickly. The bond → migrate → Raydium progression creates a clean funnel. You don\'t need one coin - you need one REPEATABLE SYSTEM.',
                    tags: ['pumpfun', 'lifecycle']
                },
                'narratives': {
                    title: 'Narratives That Print',
                    content: 'Best narratives: simple, relatable, memetic, instantly repeatable. The strongest coins feel inevitable because the meme spreads without effort. Memes win by being memetic.',
                    tags: ['narrative', 'strategy']
                },
                'protrade': {
                    title: 'How Pros Trade This Meta',
                    content: 'The edge isn\'t "finding the next 100x". It\'s: entering clean setups, scaling out intelligently, protecting downside, repeating. Pros build accounts by stacking 1.5x, 2x, 3x consistently - then catching a runner occasionally.',
                    tags: ['strategy', 'pro']
                },
                'thesis': {
                    title: 'The Real Bull Case',
                    content: 'Meme coins are the most honest market in crypto: attention in → price up, attention out → price down. Attention is the most valuable commodity on the internet. As long as people compete for attention, memes will remain the fastest way to turn attention into money.',
                    tags: ['bullish', 'thesis']
                }
            },
            
            context: [],
            
            // Remember conversation
            remember(user, bot) {
                const timestamp = Date.now();
                
                // Store in conversations (working memory)
                this.conversations.push({ user, bot, timestamp });
                if (this.conversations.length > 20) this.conversations.shift();
                
                // Store as episode (episodic memory)
                this.episodes.push({
                    timestamp,
                    user,
                    bot,
                    topics: this.extractTopics(user)
                });
                if (this.episodes.length > 100) this.episodes.shift();
                
                // Extract facts (semantic memory)
                this.extractFacts(user);
                
                // Update context
                const topics = this.extractTopics(user);
                this.context = [...new Set([...this.context, ...topics].slice(-10))];
            },
            
            // Extract topics from text
            extractTopics(text) {
                const lower = text.toLowerCase();
                const topics = [];
                
                if (lower.includes('pepe')) topics.push('pepe');
                if (lower.includes('whale')) topics.push('whale');
                if (lower.includes('market')) topics.push('market');
                if (lower.includes('solana') || lower.includes('sol')) topics.push('solana');
                if (lower.includes('pump') || lower.includes('moon')) topics.push('bullish');
                if (lower.includes('buy') || lower.includes('trade')) topics.push('trading');
                if (lower.includes('meme')) topics.push('memecoins');
                if (lower.includes('narrative')) topics.push('narrative');
                if (lower.includes('liquidity') || lower.includes('liq')) topics.push('liquidity');
                
                return topics;
            },
            
            // Extract facts about user
            extractFacts(text) {
                const lower = text.toLowerCase();
                
                // Detect preferences
                if (lower.includes('like') || lower.includes('love')) {
                    if (lower.includes('pepe')) this.addFact('preference', 'likes PEPE', 0.8);
                    if (lower.includes('solana')) this.addFact('preference', 'likes Solana', 0.8);
                    if (lower.includes('meme')) this.addFact('preference', 'likes memecoins', 0.9);
                }
                
                // Detect trading style
                if (lower.includes('hold') || lower.includes('diamond')) {
                    this.addFact('style', 'holder mentality', 0.7);
                }
                if (lower.includes('trade') || lower.includes('flip')) {
                    this.addFact('style', 'active trader', 0.7);
                }
                
                // Detect interests
                if (lower.includes('whale')) this.addFact('interest', 'whale tracking', 0.9);
                if (lower.includes('dex')) this.addFact('interest', 'DEX analysis', 0.8);
            },
            
            // Add semantic fact
            addFact(category, value, confidence) {
                const existing = this.facts[category].find(f => f.value === value);
                if (existing) {
                    existing.confidence = Math.min(1, existing.confidence + 0.1);
                    existing.lastSeen = Date.now();
                } else {
                    this.facts[category].push({
                        value,
                        confidence,
                        lastSeen: Date.now()
                    });
                }
            },
            
            // Retrieve relevant knowledge
            retrieve(query) {
                const lower = query.toLowerCase();
                const results = [];
                
                // Search knowledge base
                for (const [key, doc] of Object.entries(this.knowledgeBase)) {
                    let score = 0;
                    
                    // Check title match
                    if (doc.title.toLowerCase().includes(lower)) score += 2;
                    
                    // Check content match
                    const words = lower.split(' ');
                    words.forEach(word => {
                        if (word.length > 3 && doc.content.toLowerCase().includes(word)) {
                            score += 0.5;
                        }
                    });
                    
                    // Check tags
                    doc.tags.forEach(tag => {
                        if (lower.includes(tag)) score += 1.5;
                    });
                    
                    if (score > 0) {
                        results.push({ key, doc, score });
                    }
                }
                
                // Sort by score
                results.sort((a, b) => b.score - a.score);
                
                return results.slice(0, 3);
            },
            
            // Get context summary
            getContextSummary() {
                const recentTopics = this.context.slice(-5);
                const topPrefs = this.facts.preferences.slice(0, 3).map(f => f.value);
                
                return {
                    topics: recentTopics,
                    preferences: topPrefs,
                    conversationCount: this.conversations.length
                };
            },
            
            // Search episodes
            searchMemory(keyword) {
                return this.episodes.filter(ep => 
                    ep.user.toLowerCase().includes(keyword.toLowerCase()) ||
                    ep.bot.toLowerCase().includes(keyword.toLowerCase())
                ).slice(-5);
            }
        };

        // Enter terminal
        function enterTerminal() {
            document.getElementById('welcome-screen').classList.add('hidden');
            document.getElementById('terminal-container').style.opacity = '1';
            document.getElementById('terminal-container').style.transition = 'opacity 0.5s ease';
            document.getElementById('data-feed').style.opacity = '1';
            document.getElementById('data-feed').style.transition = 'opacity 0.5s ease 0.3s';
            
            setTimeout(() => {
                initCommandTerminal();
                initBotChat();
                initBotCharacter();
                initNeuralNetwork();
            }, 500);
        }
        
        // Screen flash effect for major events
        function triggerScreenFlash() {
            const flash = document.getElementById('screen-flash');
            flash.classList.add('active');
            setTimeout(() => flash.classList.remove('active'), 300);
        }

        // Bot Character Interaction - FIXED
        function initBotCharacter() {
            const botCharacter = document.getElementById('bot-character');
            const botArea = document.getElementById('bot-character-area');
            const botMove = document.getElementById('bot-move');
            const botTilt = document.getElementById('bot-tilt');
            const eyeLeft = document.getElementById('eye-left');
            const eyeRight = document.getElementById('eye-right');
            const botStatus = document.getElementById('bot-status');
            
            // Eye tracking - FIXED to not break animation
            botArea.addEventListener('mousemove', (e) => {
                const rect = botArea.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;
                
                const deltaX = (x - centerX) / centerX;
                const deltaY = (y - centerY) / centerY;
                
                const moveX = deltaX * 15;
                const moveY = deltaY * 15;
                
                // Apply to nested elements, NOT bot-3d
                botMove.style.transform = `translate(${moveX}px, ${moveY}px)`;
                botTilt.style.transform = `rotate(${deltaX * 2}deg)`;
                
                const eyeMoveX = deltaX * 6;
                const eyeMoveY = deltaY * 6;
                eyeLeft.style.transform = `translate(calc(-50% + ${eyeMoveX}px), calc(-50% + ${eyeMoveY}px))`;
                eyeRight.style.transform = `translate(calc(-50% + ${eyeMoveX}px), calc(-50% + ${eyeMoveY}px))`;
            });
            
            botArea.addEventListener('mouseleave', () => {
                botMove.style.transform = 'translate(0, 0)';
                botTilt.style.transform = 'rotate(0deg)';
                eyeLeft.style.transform = 'translate(-50%, -50%)';
                eyeRight.style.transform = 'translate(-50%, -50%)';
            });
            
            // Status rotation
            const statuses = ['ONLINE', 'PROCESSING', 'THINKING', 'ANALYZING', 'SCANNING'];
            let statusIdx = 0;
            setInterval(() => {
                statusIdx = (statusIdx + 1) % statuses.length;
                botStatus.textContent = statuses[statusIdx];
            }, 3000);
        }

        // Bot talking animation
        function setBotTalking(on) {
            const bot = document.getElementById('bot-character');
            bot.classList.toggle('talking', on);
        }

        // Typing indicator
        function addTyping() {
            const t = document.createElement('div');
            t.className = 'bot-message';
            t.id = 'typing';
            t.innerHTML = '...';
            botChat.appendChild(t);
            botChat.scrollTop = botChat.scrollHeight;
        }
        
        function removeTyping() {
            const t = document.getElementById('typing');
            if (t) t.remove();
        }

        // Neural Network Visualization - FIXED to update synapses
        function initNeuralNetwork() {
            const neuralArea = document.getElementById('neural-network-area');
            const width = neuralArea.clientWidth;
            const height = neuralArea.clientHeight;
            
            const label = document.createElement('div');
            label.className = 'neural-label';
            label.textContent = 'NEURAL NETWORK';
            neuralArea.appendChild(label);
            
            const nodes = [];
            const nodeLabels = ['CORE', 'PATTERN', 'DATA', 'SENTIMENT', 'SIGNAL', 'PREDICT', 'LEARN', 'MEMORY'];
            const centerX = width / 2;
            const centerY = height / 2 - 20;
            
            // Create nodes
            for (let i = 0; i < 8; i++) {
                const angle = (i / 8) * Math.PI * 2 - Math.PI / 2;
                const radius = Math.min(width, height - 100) * 0.35;
                const x = Math.cos(angle) * radius + centerX;
                const y = Math.sin(angle) * radius + centerY;
                
                const node = document.createElement('div');
                node.className = 'neural-node';
                if (i % 2 === 0) node.classList.add('active');
                node.style.left = (x - 30) + 'px';
                node.style.top = (y - 30) + 'px';
                node.textContent = nodeLabels[i];
                
                node.addEventListener('click', function() {
                    synapses.forEach(s => {
                        s.el.classList.add('firing');
                        setTimeout(() => s.el.classList.remove('firing'), 1500);
                    });
                });
                
                neuralArea.appendChild(node);
                nodes.push({ element: node, x, y, angle, radius });
            }
            
            // Create synapses - FIXED
            const synapses = [];
            
            function makeSynapse(a, b) {
                const syn = document.createElement('div');
                syn.className = 'synapse';
                if (Math.random() > 0.5) syn.classList.add('firing');
                neuralArea.insertBefore(syn, neuralArea.firstChild);
                synapses.push({ el: syn, a, b });
            }
            
            for (let i = 0; i < nodes.length; i++) {
                makeSynapse(i, (i + 1) % nodes.length);
                makeSynapse(i, (i + 2) % nodes.length);
            }
            
            function updateSynapses() {
                synapses.forEach(s => {
                    const n1 = nodes[s.a];
                    const n2 = nodes[s.b];
                    const dx = n2.x - n1.x;
                    const dy = n2.y - n1.y;
                    const dist = Math.sqrt(dx*dx + dy*dy);
                    const ang = Math.atan2(dy, dx);
                    s.el.style.width = dist + 'px';
                    s.el.style.left = n1.x + 'px';
                    s.el.style.top = n1.y + 'px';
                    s.el.style.transform = `rotate(${ang}rad)`;
                });
            }
            
            // Add stats
            const statsContainer = document.createElement('div');
            statsContainer.className = 'neural-stats';
            statsContainer.innerHTML = `
                <div class="neural-stat">
                    Nodes Active
                    <span class="stat-value">8/8</span>
                </div>
                <div class="neural-stat">
                    Synapses
                    <span class="stat-value">${synapses.length}</span>
                </div>
                <div class="neural-stat">
                    Processing
                    <span class="stat-value" id="processing-speed">847 TPS</span>
                </div>
                <div class="neural-stat">
                    Memory
                    <span class="stat-value" id="memory-count">0</span>
                </div>
            `;
            neuralArea.appendChild(statsContainer);
            
            // Animate nodes - FIXED to update synapses
            function animateNodes() {
                nodes.forEach(node => {
                    node.angle += 0.002;
                    const x = Math.cos(node.angle) * node.radius + centerX;
                    const y = Math.sin(node.angle) * node.radius + centerY;
                    node.element.style.left = (x - 30) + 'px';
                    node.element.style.top = (y - 30) + 'px';
                    node.x = x;
                    node.y = y;
                });
                
                updateSynapses(); // UPDATE SYNAPSES!
                requestAnimationFrame(animateNodes);
            }
            
            animateNodes(); // START ANIMATION AUTOMATICALLY
            
            // Update stats
            setInterval(() => {
                document.getElementById('processing-speed').textContent = 
                    (800 + Math.floor(Math.random() * 150)) + ' TPS';
                document.getElementById('memory-count').textContent = botMemory.conversations.length;
            }, 2000);
            
            // AUTO-FIRE SYNAPSES randomly to make it feel ALIVE
            setInterval(() => {
                if (Math.random() > 0.6) {
                    const randomSynapses = [];
                    const fireCount = 3 + Math.floor(Math.random() * 5);
                    
                    for (let i = 0; i < fireCount; i++) {
                        const idx = Math.floor(Math.random() * synapses.length);
                        randomSynapses.push(synapses[idx]);
                    }
                    
                    randomSynapses.forEach(s => {
                        s.el.classList.add('firing');
                        setTimeout(() => s.el.classList.remove('firing'), 1500);
                    });
                }
            }, 3000);
        }
        
        // LIVE DATA FEED UPDATES - Make prices change!
        function updateDataFeed() {
            const feeds = [
                { label: 'BTC', base: 95284, variance: 500 },
                { label: 'ETH', base: 3421, variance: 50 },
                { label: 'SOL', base: 147, variance: 5 },
                { label: 'TOTAL MCAP', base: 3.2, variance: 0.1, suffix: 'T' },
                { label: '24H VOL', base: 127, variance: 5, suffix: 'B' }
            ];
            
            const feedItems = document.querySelectorAll('.feed-item');
            
            feeds.forEach((feed, idx) => {
                const item = feedItems[idx];
                if (!item) return;
                
                const change = (Math.random() - 0.5) * feed.variance * 2;
                const newValue = feed.base + change;
                const formatted = feed.suffix 
                    ? `$${newValue.toFixed(1)}${feed.suffix}`
                    : `$${Math.floor(newValue).toLocaleString()}`;
                
                const valueSpan = item.querySelector('.feed-value');
                if (valueSpan) {
                    // Flash effect on change
                    valueSpan.style.transition = 'none';
                    valueSpan.style.color = change > 0 ? '#00ff00' : '#ff3333';
                    valueSpan.textContent = formatted;
                    
                    setTimeout(() => {
                        valueSpan.style.transition = 'color 0.5s ease';
                        valueSpan.style.color = '#00ff00';
                    }, 100);
                }
            });
        }
        
        // Update prices every 2-4 seconds
        setInterval(updateDataFeed, 2000 + Math.random() * 2000);

        // Command Terminal
        const commandOutput = document.getElementById('command-output');
        const commandInput = document.getElementById('command-input');
        
        function addCommandLine(text, type = '') {
            const line = document.createElement('div');
            line.className = `cmd-line ${type}`;
            line.innerHTML = text;
            commandOutput.appendChild(line);
            commandOutput.scrollTop = commandOutput.scrollHeight;
        }
        
        function initCommandTerminal() {
            addCommandLine('<span class="cmd-prompt">TERMINAL></span> <span class="cmd-text">System initialized</span>');
            addCommandLine('<span class="cmd-prompt">TERMINAL></span> <span class="cmd-success">All systems operational</span>');
            addCommandLine('<span class="cmd-prompt">TERMINAL></span> <span class="cmd-text">Type "help" for commands</span>');
            
            // AUTOMATIC SYSTEM EVENTS - Makes it feel ALIVE!
            const systemEvents = [
                { text: '<span class="cmd-success">⚡ WHALE ALERT: 2.4M USDT moved to Raydium LP</span>', flash: true },
                { text: '<span class="cmd-success">🔥 VOLUME SPIKE: PEPE +127% in last 5 minutes</span>', flash: true },
                { text: '<span class="cmd-text">📊 Neural scan: 3 new high-conviction setups detected</span>', flash: false },
                { text: '<span class="cmd-success">🐋 Smart money accumulation pattern detected on SOL</span>', flash: true },
                { text: '<span class="cmd-success">⚡ DEX volume surge +84% - retail wave incoming</span>', flash: true },
                { text: '<span class="cmd-text">🎯 Narrative tracker: "frog memes" trending +340%</span>', flash: false },
                { text: '<span class="cmd-success">💎 BONK holder distribution improving - bullish</span>', flash: false },
                { text: '<span class="cmd-text">🔍 Whale wallet 0x7a8...3f2 just bought 12M tokens</span>', flash: true },
                { text: '<span class="cmd-success">🚀 New token bonded on pump.fun - tracking</span>', flash: false },
                { text: '<span class="cmd-text">📈 Funding rates healthy across all pairs</span>', flash: false },
                { text: '<span class="cmd-success">⚡ MAJOR MOVE: $3.2M flowing into SOL memecoins</span>', flash: true },
                { text: '<span class="cmd-text">🧠 Neural network confidence: 94% bullish</span>', flash: false },
                { text: '<span class="cmd-success">🐸 PEPE momentum building - cup & handle forming</span>', flash: false },
                { text: '<span class="cmd-text">💰 Liquidity depth increasing - less slippage ahead</span>', flash: false },
                { text: '<span class="cmd-success">🎪 Meme season indicator: EXTREME BULLISH</span>', flash: true },
                { text: '<span class="cmd-text">⚡ CT (Crypto Twitter) sentiment: 89% bullish</span>', flash: false },
                { text: '<span class="cmd-success">🔥 Google Trends spike +267% for "meme coins"</span>', flash: true },
                { text: '<span class="cmd-text">📊 Fear & Greed Index: 68 (greed, not euphoria yet)</span>', flash: false },
                { text: '<span class="cmd-success">🐋 Whale exit detected - took profits at resistance</span>', flash: true },
                { text: '<span class="cmd-text">⚡ New narrative emerging: "AI + memes" hybrid</span>', flash: false }
            ];
            
            // Fire events at random intervals (5-15 seconds)
            function fireSystemEvent() {
                const event = systemEvents[Math.floor(Math.random() * systemEvents.length)];
                
                // Add with special event class for glow
                const line = document.createElement('div');
                line.className = 'cmd-line event';
                line.innerHTML = event.text;
                commandOutput.appendChild(line);
                commandOutput.scrollTop = commandOutput.scrollHeight;
                
                // Trigger screen flash for major events
                if (event.flash) {
                    triggerScreenFlash();
                }
                
                // Schedule next event randomly between 5-15 seconds
                const nextDelay = 5000 + Math.random() * 10000;
                setTimeout(fireSystemEvent, nextDelay);
            }
            
            // Start system events after 3 seconds
            setTimeout(fireSystemEvent, 3000);
        }
        
        const commands = {
            help: () => {
                addCommandLine('<span class="cmd-success">AVAILABLE COMMANDS:</span>');
                addCommandLine('<span class="cmd-text">  status - System status</span>');
                addCommandLine('<span class="cmd-text">  market - Market overview</span>');
                addCommandLine('<span class="cmd-text">  scan - Scan opportunities</span>');
                addCommandLine('<span class="cmd-text">  whales - Whale tracker</span>');
                addCommandLine('<span class="cmd-text">  memory - Bot memory</span>');
                addCommandLine('<span class="cmd-text">  --- KNOWLEDGE BASE ---</span>');
                addCommandLine('<span class="cmd-text">  bullcase - Why memes print</span>');
                addCommandLine('<span class="cmd-text">  meta - What are memecoins</span>');
                addCommandLine('<span class="cmd-text">  solana - Why Solana wins</span>');
                addCommandLine('<span class="cmd-text">  liquidity - Liquidity is king</span>');
                addCommandLine('<span class="cmd-text">  narratives - What prints</span>');
                addCommandLine('<span class="cmd-text">  protrade - How pros trade</span>');
                addCommandLine('<span class="cmd-text">  thesis - The bull case</span>');
                addCommandLine('<span class="cmd-text">  clear - Clear terminal</span>');
            },
            status: () => {
                addCommandLine('<span class="cmd-success">SYSTEM STATUS: OPERATIONAL</span>');
                addCommandLine('<span class="cmd-text">Uptime: 24h 17m</span>');
                addCommandLine('<span class="cmd-text">Neural nodes: 8/8 active</span>');
                addCommandLine('<span class="cmd-text">Conversations stored: ' + botMemory.conversations.length + '</span>');
                addCommandLine('<span class="cmd-text">Episodes indexed: ' + botMemory.episodes.length + '</span>');
                addCommandLine('<span class="cmd-text">Facts learned: ' + (botMemory.facts.preferences.length + botMemory.facts.interests.length) + '</span>');
                addCommandLine('<span class="cmd-text">Knowledge docs: ' + Object.keys(botMemory.knowledgeBase).length + '</span>');
                addCommandLine('<span class="cmd-text">Data feeds: LIVE</span>');
            },
            market: () => {
                addCommandLine('<span class="cmd-success">MARKET OVERVIEW:</span>');
                addCommandLine('<span class="cmd-text">Total Cap: $3.2T (+4.2%)</span>');
                addCommandLine('<span class="cmd-text">24h Volume: $127B</span>');
                addCommandLine('<span class="cmd-text">PEPE: +84% 🔥 - WHALES ACCUMULATING</span>');
                addCommandLine('<span class="cmd-text">BONK: +48% 🐕 - STRONG MOMENTUM</span>');
                addCommandLine('<span class="cmd-text">DOGE: +22% 💎 - CONSOLIDATING</span>');
                addCommandLine('<span class="cmd-text">Status: EXTREMELY BULLISH</span>');
                addCommandLine('<span class="cmd-text">Tip: Type "bullcase" for why memes keep winning</span>');
            },
            scan: () => {
                addCommandLine('<span class="cmd-success">SCANNING MARKET...</span>');
                setTimeout(() => {
                    addCommandLine('<span class="cmd-text">Found: 12 high-conviction opportunities</span>');
                    addCommandLine('<span class="cmd-text">🟢 PEPE: STRONG BUY - Cup & handle forming</span>');
                    addCommandLine('<span class="cmd-text">🟡 BONK: ACCUMULATION PHASE - Whale entries</span>');
                    addCommandLine('<span class="cmd-text">🟢 SOL Ecosystem: ROTATING IN - Fresh capital</span>');
                    addCommandLine('<span class="cmd-text">📊 Liquidity health: 94% - EXCELLENT</span>');
                    addCommandLine('<span class="cmd-text">⚡ Volume/MC ratio: High - CONTINUATION LIKELY</span>');
                    addCommandLine('<span class="cmd-text">Tip: Type "protrade" to see how pros play this</span>');
                }, 1000);
            },
            whales: () => {
                addCommandLine('<span class="cmd-success">WHALE TRACKER ACTIVE:</span>');
                addCommandLine('<span class="cmd-text">🐋 50M PEPE → Cold Storage ($2.1M)</span>');
                addCommandLine('<span class="cmd-text">🐋 127 BTC → Off Exchange ($12M)</span>');
                addCommandLine('<span class="cmd-text">🐋 $3.2M USDT → SOL Memecoins</span>');
                addCommandLine('<span class="cmd-text">Pattern: SMART MONEY POSITIONING</span>');
                addCommandLine('<span class="cmd-text">Signal: ACCUMULATION PHASE CONFIRMED</span>');
                addCommandLine('<span class="cmd-text">Tip: Type "liquidity" to understand what this means</span>');
            },
            memory: () => {
                const summary = botMemory.getContextSummary();
                addCommandLine('<span class="cmd-success">BOT SUPER MEMORY:</span>');
                addCommandLine('<span class="cmd-text">📝 Conversations: ' + botMemory.conversations.length + '</span>');
                addCommandLine('<span class="cmd-text">🧠 Episodes indexed: ' + botMemory.episodes.length + '</span>');
                addCommandLine('<span class="cmd-text">🎯 Recent topics: ' + summary.topics.join(', ') + '</span>');
                addCommandLine('<span class="cmd-text">💾 Your preferences: ' + summary.preferences.join(', ') + '</span>');
                addCommandLine('<span class="cmd-text">📚 Knowledge docs: ' + Object.keys(botMemory.knowledgeBase).length + '</span>');
                addCommandLine('<span class="cmd-text">I remember EVERYTHING we discuss.</span>');
            },
            bullcase: () => {
                const doc = botMemory.knowledgeBase.bullcase;
                addCommandLine('<span class="cmd-success">' + doc.title.toUpperCase() + '</span>');
                addCommandLine('<span class="cmd-text">' + doc.content + '</span>');
                addCommandLine('<span class="cmd-text">🔥 The market can reprice attention INSTANTLY</span>');
                addCommandLine('<span class="cmd-text">💎 Attention + Liquidity + Reflexivity = Meme magic</span>');
                addCommandLine('<span class="cmd-text">⚡ This isn\'t gambling if you understand the forces</span>');
            },
            meta: () => {
                const doc1 = botMemory.knowledgeBase.whatare;
                const doc2 = botMemory.knowledgeBase.whywin;
                addCommandLine('<span class="cmd-success">' + doc1.title.toUpperCase() + '</span>');
                addCommandLine('<span class="cmd-text">' + doc1.content + '</span>');
                addCommandLine('');
                addCommandLine('<span class="cmd-success">' + doc2.title.toUpperCase() + '</span>');
                addCommandLine('<span class="cmd-text">' + doc2.content + '</span>');
            },
            solana: () => {
                const doc = botMemory.knowledgeBase.solana;
                addCommandLine('<span class="cmd-success">' + doc.title.toUpperCase() + '</span>');
                addCommandLine('<span class="cmd-text">' + doc.content + '</span>');
                addCommandLine('<span class="cmd-text">⚡ Low fees → More trades</span>');
                addCommandLine('<span class="cmd-text">🚀 Fast execution → Less slippage</span>');
                addCommandLine('<span class="cmd-text">🔥 Fast rotations → Explosive runs</span>');
            },
            liquidity: () => {
                const doc = botMemory.knowledgeBase.liquidity;
                addCommandLine('<span class="cmd-success">' + doc.title.toUpperCase() + '</span>');
                addCommandLine('<span class="cmd-text">' + doc.content + '</span>');
                addCommandLine('<span class="cmd-text">✅ Meaningful LP relative to MC</span>');
                addCommandLine('<span class="cmd-text">✅ Improving holder distribution</span>');
                addCommandLine('<span class="cmd-text">✅ Consistent volume</span>');
                addCommandLine('<span class="cmd-text">= LESS SLIPPAGE + MORE CONFIDENCE + BIGGER LEGS</span>');
            },
            narratives: () => {
                const doc = botMemory.knowledgeBase.narratives;
                addCommandLine('<span class="cmd-success">' + doc.title.toUpperCase() + '</span>');
                addCommandLine('<span class="cmd-text">' + doc.content + '</span>');
                addCommandLine('<span class="cmd-text">✅ Simple, relatable, memetic, repeatable</span>');
                addCommandLine('<span class="cmd-text">❌ Fake utility, long roadmaps, trying too hard</span>');
                addCommandLine('<span class="cmd-text">💎 Memes win by being MEMETIC</span>');
            },
            protrade: () => {
                const doc = botMemory.knowledgeBase.protrade;
                addCommandLine('<span class="cmd-success">' + doc.title.toUpperCase() + '</span>');
                addCommandLine('<span class="cmd-text">' + doc.content + '</span>');
                addCommandLine('<span class="cmd-text">🎯 Enter clean setups</span>');
                addCommandLine('<span class="cmd-text">📈 Scale out intelligently</span>');
                addCommandLine('<span class="cmd-text">🛡️ Protect downside</span>');
                addCommandLine('<span class="cmd-text">🔄 REPEAT</span>');
                addCommandLine('<span class="cmd-text">💰 Pros stack 1.5x, 2x, 3x - then catch runners</span>');
            },
            thesis: () => {
                const doc = botMemory.knowledgeBase.thesis;
                addCommandLine('<span class="cmd-success">' + doc.title.toUpperCase() + '</span>');
                addCommandLine('<span class="cmd-text">' + doc.content + '</span>');
                addCommandLine('<span class="cmd-text">📊 Attention in → Price up</span>');
                addCommandLine('<span class="cmd-text">📉 Attention out → Price down</span>');
                addCommandLine('<span class="cmd-text">🌐 Attention = Most valuable commodity</span>');
                addCommandLine('<span class="cmd-text">🚀 Memes = Fastest way to monetize attention</span>');
            },
            clear: () => {
                commandOutput.innerHTML = '';
                addCommandLine('<span class="cmd-prompt">TERMINAL></span> <span class="cmd-text">Terminal cleared</span>');
                addCommandLine('<span class="cmd-text">Type "help" to see all commands</span>');
            }
        };
        
        commandInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const cmd = commandInput.value.trim().toLowerCase();
                if (cmd) {
                    addCommandLine(`<span class="cmd-prompt">TERMINAL></span> ${cmd}`);
                    
                    if (commands[cmd]) {
                        commands[cmd]();
                    } else {
                        addCommandLine(`<span class="cmd-error">Command not found: ${cmd}</span>`);
                    }
                }
                commandInput.value = '';
            }
        });

        // Bot Chat with Memory
        const botChat = document.getElementById('bot-chat');
        const botInput = document.getElementById('bot-input');
        const botSend = document.getElementById('bot-send');
        
        function addBotMessage(text, isUser = false, actions = []) {
            const msg = document.createElement('div');
            msg.className = isUser ? 'user-message' : 'bot-message';
            msg.innerHTML = text;
            
            if (actions.length > 0 && !isUser) {
                const actionsDiv = document.createElement('div');
                actionsDiv.className = 'message-actions';
                actions.forEach(action => {
                    const btn = document.createElement('button');
                    btn.className = 'action-btn';
                    btn.textContent = action;
                    btn.onclick = () => sendBotMessage(action);
                    actionsDiv.appendChild(btn);
                });
                msg.appendChild(actionsDiv);
            }
            
            botChat.appendChild(msg);
            botChat.scrollTop = botChat.scrollHeight;
        }
        
        function initBotChat() {
            const welcomeMsg = 'Terminal Bot initialized. I have memory now - I remember our conversations! How can I assist you?';
            addBotMessage(welcomeMsg, false, ['Market Status', 'PEPE Analysis', 'What do you remember?']);
            botMemory.remember('', welcomeMsg);
        }
        
        function sendBotMessage(text) {
            if (!text) text = botInput.value.trim();
            if (!text) return;
            
            addBotMessage(text, true);
            botInput.value = '';
            
            // Add typing + talking
            addTyping();
            setBotTalking(true);
            
            setTimeout(() => {
                removeTyping();
                setBotTalking(false);
                
                const lower = text.toLowerCase();
                let response = '';
                let actions = [];
                
                // Check for memory/knowledge queries first
                if (lower.includes('remember') || lower.includes('memory') || lower.includes('know')) {
                    const convCount = botMemory.conversations.length;
                    const episodeCount = botMemory.episodes.length;
                    const summary = botMemory.getContextSummary();
                    
                    response = `I have <strong>SUPER MEMORY</strong>. I've stored ${convCount} conversations and indexed ${episodeCount} episodes. `;
                    response += `We've discussed: ${summary.topics.join(', ') || 'just getting started'}. `;
                    if (summary.preferences.length > 0) {
                        response += `I know you ${summary.preferences.join(', ')}. `;
                    }
                    response += `Plus I have ${Object.keys(botMemory.knowledgeBase).length} knowledge docs about meme trading. I NEVER forget. 🧠`;
                    actions = ['What can you teach me?', 'Show me the bull case', 'How do pros trade?'];
                }
                // Try to retrieve from knowledge base
                else {
                    const retrieved = botMemory.retrieve(text);
                    
                    if (retrieved.length > 0 && retrieved[0].score > 1) {
                        // Found relevant knowledge!
                        const doc = retrieved[0].doc;
                        response = `📚 From my knowledge base:<br><br><strong>${doc.title}</strong><br><br>${doc.content}`;
                        
                        // Add contextual follow-ups based on tags
                        if (doc.tags.includes('bullish')) {
                            actions = ['Tell me more', 'How to trade this', 'Show me signals'];
                        } else if (doc.tags.includes('strategy')) {
                            actions = ['Examples?', 'What about risk?', 'Market scan'];
                        } else {
                            actions = ['More info', 'Practical tips', 'What else?'];
                        }
                    }
                    // Specific queries
                    else if (lower.includes('pepe')) {
                        const context = botMemory.getContextSummary();
                        let prefix = '';
                        if (context.topics.includes('pepe')) {
                            prefix = 'We\'ve talked about PEPE before. Here\'s the latest: ';
                        }
                        response = prefix + 'PEPE is up <strong>+84%</strong> in 24h with $892M volume. Whales are accumulating HARD. ';
                        response += 'Cup & handle forming on 12H chart. This is a textbook moonshot setup. 🚀<br><br>';
                        response += '<em>Pro tip: Type "protrade" in terminal to see how pros play setups like this.</em>';
                        actions = ['Other memes?', 'Whale movements', 'Too late to enter?'];
                    }
                    else if (lower.includes('whale')) {
                        response = '🐋 <strong>WHALE ALERT</strong><br><br>';
                        response += '• 50M PEPE → cold storage ($2.1M)<br>';
                        response += '• 127 BTC withdrawn from CEX ($12M)<br>';
                        response += '• $3.2M USDT → SOL memecoins<br><br>';
                        response += 'When whales move during consolidation, they <strong>KNOW</strong> something. Smart money is positioning. 👀<br><br>';
                        response += '<em>Try "liquidity" command to understand what this means.</em>';
                        actions = ['What are they buying?', 'How to copy?', 'Show PEPE'];
                    }
                    else if (lower.includes('late') || lower.includes('miss')) {
                        response = 'Bro you\'re <strong>NOT LATE</strong> 💪<br><br>';
                        response += 'Fear & Greed: 68 (greed but not extreme)<br>';
                        response += 'Google Trends: +127% (still early)<br>';
                        response += 'Funding rates: healthy<br><br>';
                        response += 'Peak euphoria is 500%+ trends. We\'re in <strong>EARLY INNINGS</strong> 🎯<br><br>';
                        response += '<em>Type "thesis" in terminal for the full bull case.</em>';
                        actions = ['What to buy?', 'Show market', 'Explain more'];
                    }
                    else if (lower.includes('meme') || lower.includes('coin')) {
                        response = '<strong>MEME SEASON CONFIRMED</strong> 🎪<br><br>';
                        response += '• PEPE: +84% 🐸<br>';
                        response += '• BONK: +48% 🐕<br>';
                        response += '• DOGE: +22% 💫<br>';
                        response += '• SHIB: +18% 🔥<br><br>';
                        response += 'When memes pump this hard = retail flooding in. This is what <strong>BULL MARKETS</strong> look like. 💎<br><br>';
                        response += '<em>Try "meta" command to understand why memes keep winning.</em>';
                        actions = ['Best to buy?', 'Show PEPE', 'Trading strategy'];
                    }
                    else if (lower.includes('market') || lower.includes('overview')) {
                        response = '<strong>MARKET OVERVIEW</strong> 📊<br><br>';
                        response += 'Total Cap: $3.2T (+4.2%)<br>';
                        response += '24h Volume: $127B<br><br>';
                        response += 'Status: <strong style="color: #00ff00;">EXTREMELY BULLISH</strong><br><br>';
                        response += 'Memes are leading. Whales accumulating. Retail coming back. Perfect setup. 🚀<br><br>';
                        response += '<em>Type "bullcase" in terminal to see why this meta keeps printing.</em>';
                        actions = ['Scan opportunities', 'Whale activity', 'Best narrative'];
                    }
                    else if (lower.includes('trade') || lower.includes('how') || lower.includes('strategy')) {
                        response = '<strong>HOW PROS TRADE MEMES</strong> 💎<br><br>';
                        response += 'The edge isn\'t "finding the next 100x".<br><br>';
                        response += 'It\'s:<br>';
                        response += '✓ Entering clean setups<br>';
                        response += '✓ Scaling out intelligently<br>';
                        response += '✓ Protecting downside<br>';
                        response += '✓ REPEATING<br><br>';
                        response += 'Pros build accounts stacking 1.5x, 2x, 3x consistently - then catching runners occasionally. 💰<br><br>';
                        response += '<em>Type "protrade" in terminal for the full breakdown.</em>';
                        actions = ['Show me signals', 'Risk management', 'Current opportunities'];
                    }
                    else if (lower.includes('buy') || lower.includes('enter')) {
                        response = '<strong>ENTRY CHECKLIST</strong> ✅<br><br>';
                        response += '1. Liquidity meaningful to MC<br>';
                        response += '2. Volume showing real participation<br>';
                        response += '3. Holder distribution improving<br>';
                        response += '4. Narrative is simple & memetic<br>';
                        response += '5. Whales positioning<br><br>';
                        response += 'All green? <strong>SEND IT</strong> 🚀<br><br>';
                        response += '<em>Type "liquidity" in terminal to understand why this matters.</em>';
                        actions = ['Show opportunities', 'Check PEPE', 'Whale tracker'];
                    }
                    else {
                        // Default with context awareness
                        const summary = botMemory.getContextSummary();
                        const prevContext = summary.topics;
                        
                        if (prevContext.length > 0) {
                            response = `Based on what we've discussed (${prevContext.join(', ')}), `;
                            response += 'I can help with that. ';
                        } else {
                            response = 'I\'m your <strong>SUPER MEMORY</strong> crypto bot. ';
                        }
                        
                        response += `I have ${Object.keys(botMemory.knowledgeBase).length} knowledge docs loaded about meme trading, market structure, and pro strategies. `;
                        response += 'Ask me about: PEPE, market analysis, whale activity, trading strategies, or why memes keep winning. 🧠💎';
                        actions = ['Show bull case', 'Market overview', 'Trading tips'];
                    }
                }
                
                // Remember this interaction
                botMemory.remember(text, response);
                
                addBotMessage(response, false, actions);
            }, 1200);
        }
        
        botSend.addEventListener('click', () => sendBotMessage());
        botInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendBotMessage();
        });

        // Theme Changer
        function changeTheme(theme) {
            const themes = {
                orange: '#ff9500',
                green: '#00ff00',
                blue: '#00aaff',
                purple: '#ff00ff'
            };
            changeAccent(themes[theme], themes[theme], null);
        }

        // Accent Color Changer - FIXED
        function changeAccent(color, hover, el) {
            document.documentElement.style.setProperty('--accent-orange', color);
            
            document.querySelectorAll('.color-option').forEach(opt => opt.classList.remove('active'));
            if (el) el.classList.add('active');
        }
    </script>
</body>
</html>
